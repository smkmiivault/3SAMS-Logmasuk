<!DOCTYPE html>
<html lang="ms">

<head>
    <link rel="icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="manifest" href="site.webmanifest">

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3 SIDDIQ ELITE | AMS</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&family=Orbitron:wght@700&display=swap" rel="stylesheet">

    <script type="module">
        import {
            initializeApp
        } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import {
            getAuth,
            signInWithEmailAndPassword,
            onAuthStateChanged
        } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";

        // Konfigurasi asal anda dikekalkan
        const firebaseConfig = {
            apiKey: "AIzaSyBV5pPnUoZ5__ZDnpqutonr0xD8gI1Za7o",
            authDomain: "semii2go.firebaseapp.com",
            projectId: "semii2go",
            storageBucket: "semii2go.firebasestorage.app",
            messagingSenderId: "331630821647",
            appId: "1:331630821647:web:1fb749102956bc19607e7a"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        let redirecting = false;

        // Fungsi Login
        window.handleLogin = async (e) => {
            e.preventDefault();
            if (redirecting) return;

            const btn = e.target.querySelector("button");
            const email = e.target.querySelector("input[type=email]").value;
            const password = e.target.querySelector("input[type=password]").value;

            btn.disabled = true;
            btn.innerHTML = `<span class="flex items-center justify-center gap-2"><div class="animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"></div> MENGESAHKAN...</span>`;

            try {
                redirecting = true;
                await signInWithEmailAndPassword(auth, email, password);
                window.location.replace("https://smkmiivault.github.io/3SAMS-PanelUtama/");
            } catch (err) {
                redirecting = false;
                alert("RALAT: Kredensial tidak sah.");
                btn.innerHTML = "LOG MASUK";
                btn.disabled = false;
            }
        };

        // Modal Logic
        window.toggleLoginModal = (show) => {
            const modal = document.getElementById('loginModal');
            if (show) {
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                setTimeout(() => modal.style.opacity = "1", 10);
            } else {
                modal.style.opacity = "0";
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }, 300);
            }
        };

        // Loading Screen Logic
        window.addEventListener('load', () => {
            const loader = document.getElementById('master-loader');
            let progress = 0;
            const progressText = document.getElementById('progress-text');

            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    setTimeout(() => {
                        loader.style.opacity = '0';
                        setTimeout(() => loader.remove(), 500);
                    }, 500);
                }
                progressText.innerText = Math.floor(progress) + "%";
            }, 150);
        });

        onAuthStateChanged(auth, (user) => {
            if (user && !redirecting) {
                window.location.replace("https://smkmiivault.github.io/3SAMS-PanelUtama/");
            }
        });
    </script>

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #ffffff;
            color: #1a1a1a;
        }

        .hero-video-container {
            position: relative;
            width: 100%;
            height: 100vh;
            background: #000;
            overflow: hidden;
        }

        /* VIDEO PERFECT CENTER NO CROP */
        .hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);

            max-width: 100%;
            max-height: 100%;

            width: auto;
            height: auto;

            object-fit: contain;
        }

        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #000;
            color: white;
            text-align: center;
            padding: 40px 20px;
        }

        .hero-media video {
            max-width: 90vw;
            max-height: 70vh;
            width: auto;
            height: auto;
            border-radius: 18px;
            box-shadow: 0 40px 120px rgba(0, 0, 0, 0.6);
        }

        .hero-content {
            position: relative;
            z-index: 2;
            color: white;
            text-align: center;
            top: 40%;
            transform: translateY(-40%);
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .title-orbitron {
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 0.15em;
        }

        .glass-modal {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .btn-premium {
            background: #1a1a1a;
            color: white;
            transition: all 0.3s ease;
        }

        .btn-premium:hover {
            background: #d4af37;
            transform: translateY(-2px);
        }

        #master-loader {
            position: fixed;
            inset: 0;
            background: white;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease;
        }

        .loader-bar {
            width: 200px;
            height: 2px;
            background: #eee;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }

        .loader-bar-fill {
            position: absolute;
            height: 100%;
            background: #d4af37;
            width: 0%;
            animation: loading 2s ease-in-out infinite;
        }

        @keyframes loading {
            0% {
                width: 0%;
                left: 0;
            }

            50% {
                width: 100%;
                left: 0;
            }

            100% {
                width: 0%;
                left: 100%;
            }
        }
    </style>
</head>

<body class="antialiased">

    <!-- LOADER -->
    <div id="master-loader">
        <img src="https://i.postimg.cc/FsL0XknW/SMKMII-LGO-removebg-preview.png" alt="Logo" class="h-12 mb-6 opacity-80">
        <div class="text-[10px] font-bold tracking-[0.3em] uppercase text-gray-400">Memuatkan Sistem <span id="progress-text">0%</span></div>
        <div class="loader-bar">
            <div class="loader-bar-fill"></div>
        </div>
    </div>

    <!-- NAVBAR -->
    <nav class="fixed top-0 w-full z-40 px-8 py-6 flex justify-between items-center bg-white/80 backdrop-blur-md">
        <div class="flex items-center gap-4">
            <img src="https://i.postimg.cc/FsL0XknW/SMKMII-LGO-removebg-preview.png" alt="SMKMII" class="h-10">
            <div class="w-[1px] h-6 bg-gray-200"></div>
            <span class="text-xs font-black tracking-widest uppercase">3 Siddiq Elite</span>
        </div>
        <button onclick="toggleLoginModal(true)" class="text-xs font-bold tracking-widest uppercase border-b-2 border-transparent hover:border-black transition-all">
            Log Masuk Pentadbir
        </button>
    </nav>

    <!-- HERO SECTION -->
    <main>
        <section class="hero-video-container">
            <video class="hero-video" autoplay muted loop playsinline>
                <source src="3samsvidassets.mp4" type="video/mp4">
            </video>
        </section>

        <!-- INFO SECTION -->
        <section class="max-w-6xl mx-auto py-24 px-8 grid md:grid-cols-3 gap-16">
            <div class="text-center">
                <div class="text-3xl font-light mb-4 text-[#d4af37]">01.</div>
                <h4 class="font-bold tracking-tighter text-xl mb-2">Automasi Kehadiran</h4>
                <p class="text-gray-500 text-sm leading-relaxed">Sistem pengesanan digital yang pantas dan tepat untuk setiap ahli kelas.</p>
            </div>
            <div class="text-center">
                <div class="text-3xl font-light mb-4 text-[#d4af37]">02.</div>
                <h4 class="font-bold tracking-tighter text-xl mb-2">Analisis Real-Time</h4>
                <p class="text-gray-500 text-sm leading-relaxed">Paparan data statistik kehadiran secara langsung untuk pemantauan efektif.</p>
            </div>
            <div class="text-center">
                <div class="text-3xl font-light mb-4 text-[#d4af37]">03.</div>
                <h4 class="font-bold tracking-tighter text-xl mb-2">Sekuriti Elite</h4>
                <p class="text-gray-500 text-sm leading-relaxed">Infrastruktur awan yang selamat untuk melindungi data pelajar.</p>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="py-12 border-t border-gray-100 text-center">
        <p class="text-[10px] tracking-[0.5em] text-gray-400 uppercase">© 2026 SMK MEMBAKUT II | 3 Siddiq Elite</p>
    </footer>

    <!-- LOGIN MODAL -->
    <div id="loginModal" class="fixed inset-0 z-50 hidden items-center justify-center p-6 transition-opacity duration-300 opacity-0" style="background: rgba(0,0,0,0.4);">
        <div class="glass-modal w-full max-w-md rounded-[30px] p-10 relative">
            <button onclick="toggleLoginModal(false)" class="absolute top-6 right-6 text-gray-400 hover:text-black">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>

            <div class="text-center mb-10">
                <img src="https://i.postimg.cc/xCcWgqmx/photo-6057413719148399989-y-removebg-preview.png" alt="Logo" class="h-16 mx-auto mb-4">
                <h3 class="text-xl font-bold tracking-tight">Akses Pentadbir</h3>
                <p class="text-xs text-gray-400 mt-2 uppercase tracking-widest">Sila masukkan kunci keselamatan</p>
            </div>

            <form onsubmit="handleLogin(event)" class="space-y-6">
                <div>
                    <label class="text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1 mb-2 block">E-mel</label>
                    <input type="email" required placeholder="admin@3siddiq.com" class="w-full bg-gray-50 border border-gray-100 px-6 py-4 rounded-xl text-sm outline-none focus:border-[#d4af37] transition-all">
                </div>
                <div>
                    <label class="text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1 mb-2 block">Kunci Akses</label>
                    <input type="password" required placeholder="••••••••" class="w-full bg-gray-50 border border-gray-100 px-6 py-4 rounded-xl text-sm outline-none focus:border-[#d4af37] transition-all">
                </div>
                <button type="submit" class="btn-premium w-full py-5 rounded-xl text-xs font-bold tracking-[0.2em] uppercase">
                    Buka Sistem
                </button>
            </form>
        </div>
    </div>

</body>

</html>
